<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login | Checklist To Do</title>
  <link rel="stylesheet" href="../css/login.css" />
  <link rel="stylesheet" href="../css/header.css" />
</head>
<body style="background: url('../assets/FONDO-TOD.png') no-repeat center center / cover fixed;">
  
  <!-- HEADER -->
  <header class="header">
    <img src="../assets/logotodo.png" alt="Logo" class="logo" />
  </header>

  <!-- MAIN -->
  <main class="main">
    <div class="card container">
      <h1>Login</h1>
      <form id="login-form" autocomplete="off">
        <div class="row">
          <input 
            type="text" 
            id="username" 
            name="username" 
            placeholder="Usuario" 
            required
          />
        </div>
        <div class="row">
          <input 
            type="password" 
            id="password" 
            name="password" 
            placeholder="Contraseña" 
            required
          />
        </div>
        <div class="row">
          <button type="submit" class="btn btn--primary">Ingresar</button>
        </div>
        <p id="login-error" class="error" role="alert" hidden></p>
      </form>
    </div>
  </main>
  

  <!-- SENTRY -->
  <!-- SDK de Sentry desde CDN (solo errores, sin tracing) -->
<script
  src="https://browser.sentry-cdn.com/7.120.0/bundle.min.js"
  crossorigin="anonymous"
></script>

<!-- Tu configuración con la DSN -->
<script src="/html/config.js"></script>

<!-- Inicialización de Sentry usando window.APP_CONFIG -->
<script>
  if (window.APP_CONFIG && window.APP_CONFIG.SENTRY_DSN) {
    Sentry.init({
      dsn: window.APP_CONFIG.SENTRY_DSN,
      // Opcional: ponle un nombre al entorno
      environment: "production",
    });
  } else {
    console.warn("Sentry: no hay SENTRY_DSN en window.APP_CONFIG");
  }
</script>

  
<script src="./config.js"></script>

<!-- GOOGLE ANALITYCS -->
<script>
  (function () {
    var cfg = window.APP_CONFIG || {};
    if (!cfg.GA_MEASUREMENT_ID) return;

    var gtagScript = document.createElement('script');
    gtagScript.async = true;
    gtagScript.src = 'https://www.googletagmanager.com/gtag/js?id=' + cfg.GA_MEASUREMENT_ID;
    document.head.appendChild(gtagScript);

    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    window.gtag = gtag;

    gtag('js', new Date());
    gtag('config', cfg.GA_MEASUREMENT_ID);
  })();
</script>

<!-- SCRIPTS -->
  <script src="../js/auth.js" type="module"></script>
</body>
</html>
